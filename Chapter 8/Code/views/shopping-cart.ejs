<!DOCTYPE html>
<html>
    <head>
        <meta charset="UTF-8">
        <title>CI Web Shop</title>
        <link rel="shortcut icon" href="https://www.packtpub.com/favicon.ico">
        
        <!-- build:css -->
        <link rel="stylesheet" type="text/css" href="..\node_modules\bootstrap\dist\css\bootstrap.css">
        <link rel="stylesheet" type="text/css" href="..\css\layout.css">
        <link rel="stylesheet" type="text/css" href="..\css\utils.css">
        <!-- endbuild -->
        <!-- build:node_modules -->
        <script src="..\node_modules\angular\angular.js"></script>
        <script src="..\node_modules\jquery\dist\jquery.js"></script>
        <script src="..\node_modules\bootstrap\dist\js\bootstrap.js"></script>
        <!-- endbuild -->
        <!-- build:js -->
        <script src="..\scripts\bundles\shopping-cart.bundle.js"></script>
        <!-- endbuild -->
    </head>
    <body ng-app="shopApp">
        <%- include navbar.ejs %>
        <div class="container" ng-controller="shoppingCartController">
            <div class="row" ng-hide="order.lines.length">
                <div class="col-lg-12 text-center">
                    <p>There are no items in your shopping cart...</p>
                    <p>You should do some shopping!</p>
                </div>
            </div>
            <div ng-repeat="line in order.lines">
                <div class="thumbnail">
                    <div class="row">
                        <div class="col-lg-2">
                            <a href="product.html?id={{line.product.id}}">
                                <img src="http://placehold.it/150x150" alt="..." />
                            </a>
                        </div>
                        <div class="col-lg-7">
                            <div class="caption">
                                <a href="product.html?id={{line.product.id}}">
                                    <h3>{{line.product.name}}</h3>
                                </a>
                                <p class="label label-default">{{line.product.category}}</p>
                            </div>
                        </div>
                        <div class="col-lg-1 clearfix">
                            <div class="caption pull-right">
                                <input ng-model="line.number" />
                                <button type="button" ng-click="removeLine(line)">
                                    <span class="glyphicon glyphicon-trash"></span> Delete
                                </button>
                            </div>
                        </div>
                        <div class="col-lg-2 clearfix">
                            <div class="caption pull-right">
                            <p>{{'&euro; ' + line.subTotal()}}</p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="row">
                <div class="col-lg-12">
                    <p class="pull-right">{{'&euro;' + order.total()}}</p>
                </div>
            </div>
            <footer class="footer">
                <p>Copyright &copy; 2017</p>
            </footer>
        </div>
    </body>
</html>